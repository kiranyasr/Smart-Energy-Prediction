<!DOCTYPE html>
<html>
<head>
  <title>Energy Prediction</title>
</head>
<body>
  <h2>Building Energy Prediction</h2>
  <form id="energyForm">
    Temperature: <input type="number" step="0.1" id="temp"><br>
    Occupancy: <input type="number" id="occupancy"><br>
    Previous Hour kWh: <input type="number" step="0.1" id="prev"><br>
    <button type="submit">Predict</button>
  </form>

  <h3>Result:</h3>
  <p id="result"></p>

  <script>
    document.getElementById("energyForm").onsubmit = async function(e) {
      e.preventDefault();
      let response = await fetch("/predict", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          Building_Floor_Area: 5000,
          Building_Type: 1,
          Previous_Hour_kWh: parseFloat(document.getElementById("prev").value),
          Occupancy_Count: parseInt(document.getElementById("occupancy").value),
          Day_of_Week: 2,
          Outdoor_Temperature: parseFloat(document.getElementById("temp").value),
          Humidity: 60,
          Solar_Irradiance: 200,
          Hour_of_Day: 14,
          HVAC_SetPoint: 22,
          Holiday_Indicator: 0,
          Seasonal_Index: 1,
          Season_Sin: 0.5,
          Season_Cos: 0.8,
          Tomorrow_Temp_Forecast: 28,
          Tomorrow_Solar_Forecast: 180,
          Real_Time_Occupancy: 100,
          Actual_Consumption: 500   <!-- optional -->
        })
      });
      let result = await response.json();
      document.getElementById("result").innerText =
        "Predicted: " + result.Predicted_Consumption + " kWh | Wastage: " + result.Estimated_Wastage + " kWh";
    }
  </script>
</body>
</html>
